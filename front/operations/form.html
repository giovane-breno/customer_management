<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Api - Customer</title>

    <!-- Latest compiled and minified CSS -->
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

</head>

<body>
    <div class="container">
        <div class="row mt-5">
            <div class="col-md-offset-3 col-sm-6 mx-auto">
                <div class="btn-group">
                    <a href="#" class="btn btn-lg btn-success">Adicionar</a>
                    <a href="#" class="btn btn-lg btn-warning">Atualizar</a>
                    <a href="#" class="btn btn-lg btn-primary">Consultar</a>
                    <a href="#" class="btn btn-lg btn-danger">Deletar</a>
                </div>
            </div>
        </div>
    </div>
    <div class="container mt-5 mb-3 border p-5">
        <form>
            <div class="row">
                <div class="col-4">
                    <div class="form-group">
                        <label for="exampleInputEmail1">Nome</label>
                        <input type="text" required class="form-control" id="inputName" name="name"
                            placeholder="Nome do Cliente">
                    </div>
                </div>
                <div class="col-4">
                    <div class="form-group">
                        <label for="exampleInputEmail1">Idade</label>
                        <input type="number" required class="form-control" id="inputAge" name="age" placeholder="Idade">
                    </div>
                </div>
                <div class="col-4">
                    <div class="form-group">
                        <label for="exampleInputEmail1">Número de Telefone</label>
                        <input type="text" class="form-control" id="inputPhoneNumber" name="phone_number"
                            placeholder="(99) 99999-9999">
                    </div>
                </div>
            </div>

            <div class="row mt-4">
                <div class="col-4">
                    <div class="form-group">
                        <label for="exampleInputEmail1">Email</label>
                        <input type="email" class="form-control" id="inputEmail" name="email"
                            placeholder="exemplo@exemplo.com">
                    </div>
                </div>
                <div class="col-4">
                    <div class="form-group">
                        <label for="exampleInputEmail1">Endereço</label>
                        <input type="text" required class="form-control" name="adress" id="inputAdress"
                            placeholder="Rua de Exemplo, 155">

                    </div>
                </div>
                <div class="col-4">
                    <div class="form-group">
                        <label for="exampleInputEmail1">Estado</label>
                        <select required class="form-control" id="selectState">
                            <option disabled selected>Selecione um Estado</option>
                        </select>
                    </div>
                </div>
            </div>
            <a id="submit" class="btn btn-primary float-end mt-2">Adicionar</a>

        </form>
    </div>
</body>

<!-- BOOTSTRAP -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"
    integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
    crossorigin="anonymous"></script>

<!-- JQUERY -->
<script src="https://code.jquery.com/jquery-3.6.1.min.js"
    integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>

<!-- INPUTMASK -->
<script src="dist/jquery.inputmask.js"></script>


<script>
    $(document).ready(function () {
        $(":input").inputmask();
        $("#inputPhoneNumber").inputmask("(99) 99999-9999");
    });

    var states = [
        'Acre',
        'Alagoas',
        'Amapá',
        'Amazonas',
        'Bahia',
        'Ceará',
        'Distrito Federal',
        'Espirito Santo',
        'Goiás',
        'Maranhão',
        'Mato Grosso do Sul',
        'Mato Grosso',
        'Minas Gerais',
        'Pará',
        'Paraíba',
        'Paraná',
        'Pernambuco',
        'Piauí',
        'Rio de Janeiro',
        'Rio Grande do Norte',
        'Rio Grande do Sul',
        'Rondônia',
        'Roraima',
        'Santa Catarina',
        'São Paulo',
        'Sergipe',
        'Tocantins'
    ];
    /* POPULAR SELECT COM DADOS DO ARRAY */

    var selectStates = document.getElementById("selectState");
    for (var i = 0; i < states.length; ++i) {
        selectStates[selectStates.length] = new Option(states[i], states[i]);
    }

    $('#submit').click(function (e) {
        e.preventDefault;
        var name = $("#inputName").val();
        var age = $("#inputAge").val();
        var phone_number = $("#inputPhoneNumber").val();
        var email = $("#inputEmail").val();
        var adress = $("#inputAdress").val();
        var state = $("#selectState").val();

        $.ajax({
            method: "POST",
            url: "http://127.0.0.1:8000/api/customers/",
            data: {
                name: name,
                age: age,
                phone_number: phone_number,
                email: email,
                adress: adress,
                state: state
            },
            dataType: "json",
        });
    });

</script>

</html>